const d=999,c={prealpha:999,alpha:1e3,beta:1001,rc:1002},_=l=>!Number.isNaN(l)&&l>-1;export const MAX_VERSION_LENGTH=256,NO_PRE_RELEASE_BUILD_SPECIFIED=-1,NO_PRE_RELEASE_TAG="none";const b=l=>{if(l.length<1||l.length>MAX_VERSION_LENGTH)return null;const e=l.split("-");if(e.length>2)return null;const a=e[0].split(".").filter(n=>n.length>0);if(a.length!==3)return null;const r=a.map(n=>parseInt(n,10));if(!r.map(n=>_(n)).reduce((n,h)=>n&&h,!0))return null;const t=new SemVer(...r,NO_PRE_RELEASE_TAG,NO_PRE_RELEASE_BUILD_SPECIFIED);if(e.length<2)return t;const s=e[1].split(".");if(s.length>2||s.length<0)return null;const i=s[0],p=Object.keys(c);if(Object.keys(c).includes(i))t.preReleaseTag=i;else return null;if(s.length<2)return t.preReleaseBuild=0,t;const u=s[1],g=parseInt(u,10);if(_(g))t.preReleaseBuild=g;else if(p.includes(u)){const h=c[u],f=Math.max(h-999,0);t.preReleaseBuild=f}else return null;return t};var T=(r=>(r[r.equal=-1]="equal",r[r.current_higher=0]="current_higher",r[r.current_lower=1]="current_lower",r))(T||{});export class SemVer{static null(){return new SemVer(0,0,0,NO_PRE_RELEASE_TAG,NO_PRE_RELEASE_BUILD_SPECIFIED)}static fromString(e){return b(e)}constructor(e,a,r,o,t){this.major=e,this.minor=a,this.patch=r,this.preReleaseTag=o,this.preReleaseBuild=t}isPrerelease(){return this.preReleaseTag!==NO_PRE_RELEASE_TAG}compare(e){const{major:a,minor:r,patch:o,preReleaseTag:t,preReleaseBuild:m}=e;if(this.major>a)return 0;if(this.major<a)return 1;if(this.minor>r)return 0;if(this.minor<r)return 1;if(this.patch>o)return 0;if(this.patch<o)return 1;const s=this.isPrerelease(),i=e.isPrerelease();if(!s&&!i)return-1;if(!s&&i)return 0;if(s&&!i)return 1;const p=c[this.preReleaseTag],u=c[t];return p>u?0:p<u?1:this.preReleaseBuild>m?0:this.preReleaseBuild<m?1:-1}isGreater(e){return this.compare(e)===0}isLower(e){return this.compare(e)===1}isEqual(e){return this.compare(e)===-1}}
//# sourceMappingURL=index.js.map
